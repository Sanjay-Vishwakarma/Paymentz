<%@ page import="com.directi.pg.Functions,com.directi.pg.Logger,com.directi.pg.Merchants" %>
<%@ page import="com.manager.dao.MerchantDAO" %>
<%@ page import="org.owasp.esapi.ESAPI" %>
<%@ include file="functions.jsp" %>
<%@ page import="java.math.BigDecimal" %>
<%@ page import="java.net.URLEncoder" %>
<%@ page import="java.util.Enumeration" %>
<%@ page import="java.util.LinkedHashMap" %>
<%@ include file="index.jsp" %>
<%!
    private static Logger log=new Logger("memberpreference.jsp");
%>

<script src="/icici/css/jquery-1.12.4.min.js"></script>
<script src="/icici/css/jquery-ui.min.js"></script>
<script src="/icici/javascript/autocomplete.js"></script>

<html>
<head>

</head>
<title> Paymentz - Reserves and Amount per Transaction </title>
<body class="bodybackground">
<div class="row">
    <div class="col-lg-12">
        <div class="panel panel-default">
            <div class="panel-heading">
                Merchant Configuration
            </div>
            <% ctoken = ((User) session.getAttribute("ESAPIUserSessionKey")).getCSRFToken();
                Merchants merchants = new Merchants();
                if (merchants.isLoggedIn(session))
                {
                    MerchantDAO merchantDAO = new MerchantDAO();
                    LinkedHashMap<Integer,String> memberMap = merchantDAO.listAllMember();
                    String memberId1= Functions.checkStringNull(request.getParameter("memberid"))==null?"":request.getParameter("memberid");
            %>
            <form action="/icici/servlet/MemberDetails?ctoken=<%=ctoken%>" method="get" name="F1" onsubmit="">
                <input type="hidden" value="<%=ctoken%>" name="ctoken" id="ctoken">
                <br>
                <table align="center" width="80%" cellpadding="2" cellspacing="2" style="margin-left:60px; ">
                    <tr>
                        <td>
                            <%
                                String errormsg1 = (String) request.getAttribute("error");
                                if (errormsg1 != null)
                                {
                                    out.println("<center><font class=\"textb\"><b>" + errormsg1 + "<br></b></font></center>");
                                }
                                String errormsg = (String) request.getAttribute("cbmessage");
                                if (errormsg == null)
                                    errormsg = "";
                                out.println("<table align=\"center\"><tr><td valign=\"middle\"><font class=\"textb\" ><b>");
                                out.println(errormsg);
                                out.println("</b></font></td></tr></table>");
                            %>
                            <input type="hidden" id="ctoken" value="<%=ctoken%>" name="ctoken">
                            <table border="0" cellpadding="5" cellspacing="0" width="100%" align="center">
                                <tr>
                                    <td width="2%" class="textb">&nbsp;</td>
                                    <td width="20%" class="textb" for="mid">Member Id</td>
                                    <td width="0%" class="textb"></td>
                                    <td width="22%" class="textb">
                                        <input name="memberid" id="mid" value="<%=memberId1%>" class="txtbox" autocomplete="on" >
                                    </td>
                                    <td width="10%" class="textb">&nbsp;</td>
                                    <td width="40%" class="textb"></td>
                                    <td width="5%" class="textb"></td>
                                    <td width="50%" class="textb">
                                        <button type="submit" class="buttonform" style="margin-left:40px; ">
                                            <i class="fa fa-clock-o"></i>
                                            &nbsp;&nbsp;Search
                                        </button>
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                </table>
            </form>
        </div>
    </div>
</div>
<form action="/icici/servlet/SetReserves?ctoken=<%=ctoken%>" method=post>
    <div class="reporttable" style="margin-bottom: 9px">
        <%
            Hashtable hash = (Hashtable) request.getAttribute("memberdetails");
            Hashtable uhash = (Hashtable) request.getAttribute("uhash");
            Hashtable temphash = null;
            Hashtable partner = (Hashtable) request.getAttribute("partners");
            Hashtable agent = (Hashtable) request.getAttribute("agents");
            int pageno = convertStringtoInt(ESAPI.encoder().encodeForHTML(request.getParameter("SPageno")), 1);
            int pagerecords = convertStringtoInt(ESAPI.encoder().encodeForHTML(request.getParameter("SRecords")), 15);
            int records = 0;
            int totalrecords = 0;
            int records1 = 0;
            int records2 = 0;
            String str = "";
            String notificationUrl="";
            String termsUrl="";
            String privacyPolicyUrl="";
            if ((hash != null && hash.size() > 0) && (partner != null && partner.size() > 0) && (agent != null && agent.size() > 0))
            {
                try
                {
                    records = Integer.parseInt((String) hash.get("records"));
                    totalrecords = Integer.parseInt((String) hash.get("totalrecords"));
                    records1 = Integer.parseInt((String) partner.get("records1"));
                    records2 = Integer.parseInt((String) agent.get("records2"));
                }
                catch (Exception ex)
                {
                    log.error("Records & TotalRecords is found null", ex);
                }
            }
            if (uhash != null && uhash.size() > 0)
            {
        %>
        <font class="info">Modification Successful</font>
        <% }
            if (records > 0)
            {
                str = str + "?SRecords=" + pagerecords;
                str = str + "&ctoken=" + ctoken;
                str = str + "&year=" + URLEncoder.encode((String) hash.get("year")) + "&month=" + URLEncoder.encode((String) hash.get("month"));
        %>
        <center><font class="textb">Total records: <%=totalrecords%>
        </font></center>
        <br>
        <input type="hidden" value="<%=ctoken%>" name="ctoken">
        <table align=center class="table table-striped table-bordered  table-green dataTable"
               style="margin-bottom: 0px">
            <% String style = "td1";
                for (int pos = 1; pos <= records; pos++)
                {
                    String id = Integer.toString(pos);
                    int srno = Integer.parseInt(id) + ((pageno - 1) * pagerecords);
                    if (pos % 2 == 0)
                        style = "tr0";
                    else
                        style = "tr0";
                    temphash = (Hashtable) hash.get(id);
                    String memberId = (String) temphash.get("memberid");
                    String companyName = (String) temphash.get("company_name");
                    String accountId = Functions.checkStringNull((String) temphash.get("accountid"));
                    String aptprompt = "0.00";
                    String isReadOnly = "";
                    BigDecimal tmpObj = new BigDecimal("0.01");
                    aptprompt = ((new BigDecimal((String) temphash.get("aptprompt")).multiply(tmpObj))).toString();
                    Functions function=new Functions();
                    if(function.isValueNull((String)temphash.get("notificationUrl"))){
                        notificationUrl=(String)temphash.get("notificationUrl");
                    }
                    if(function.isValueNull((String)temphash.get("termsUrl"))){
                        termsUrl=(String)temphash.get("termsUrl");
                    }
                    if(function.isValueNull((String)temphash.get("privacyPolicyUrl"))){
                        privacyPolicyUrl=(String)temphash.get("privacyPolicyUrl");
                    }
            %>
            <thead>
            <tr>
                <td valign="middle" align="center" class="th0"> Sr. No.</td>
                <td valign="middle" align="center" class="th0"> Member Id</td>
                <td valign="middle" align="center" class="th0"> Company Name</td>
                <td valign="middle" align="center" class="th0"> Account ID</td>
            </tr>
            </thead>
            <tr>
                <td align="center" class="<%=style%>"><%=srno%>
                </td>
                <td align="center" class="<%=style%>"><%=memberId%><input type=hidden name="memberid"
                                                                          value="<%=ESAPI.encoder().encodeForHTMLAttribute(memberId)%>">
                </td>
                <td align="center" class="<%=style%>"><%=companyName%>
                </td>
                <%
                    Hashtable merchantDetailsHash = (Hashtable) request.getAttribute("accoutIDwiseMerchantHash");
                    Enumeration enumr = merchantDetailsHash.keys();
                    if ("".equals(accountId) || accountId == null)
                    {
                %>
                <td align="center" class="<%=style%>">
                    <select name=accountids>
                        <option value="">Select Merchant</option>
                        <%
                            while (enumr.hasMoreElements())
                            {
                                String accid = (String) enumr.nextElement();
                        %>
                        <option value="<%= accid%>"><%= merchantDetailsHash.get(accid) %>
                        </option>
                        <%}%>
                    </select></td>
            </tr>
            <%
            }
            else
            {
            %>
            <td align="center" class="<%=style%>"><input type="text" size=60 name="merchantid" class="txtbox"
                                                         style="width:300px"
                                                         value="<%=ESAPI.encoder().encodeForHTMLAttribute((String) merchantDetailsHash.get(accountId))%>"
                                                         readonly="true"></td>
            <input type="hidden" name="accountids" value="<%=accountId%>">
            </tr>
            <%}%>
        </table>
    </div>
    <div class="reporttable" style="margin-bottom: 9px;">
        <table border="0" width="100%" class="table table-striped table-bordered table-green dataTable"
               style="margin-bottom: 0px">
            <thead>
            <tr class="th0">
                <td colspan="6">
                    <center><b>Member Limits</b></center>
                </td>
            </tr>
            </thead>
            <thead>
            <tr>
                <td  style="height: 30px"valign="middle" align="center" class="tr1" >  Daily Amount Limit  </td>
                <td  style="height: 30px"valign="middle" align="center" class="tr1" >  Monthly Amount Limit  </td>
                <td  style="height: 30px"valign="middle"  align="center"  class="tr1">  Daily Card Limit  </td>
                <td  style="height: 30px"valign="middle" align="center" class="tr1" >  Weekly Card Limit  </td>
                <td  style="height: 30px"valign="middle" align="center" class="tr1" >  Monthly Card Limit  </td>
                <td  style="height: 30px"valign="middle" align="center" class="tr1" >  High Risk Amount  </td>
            </tr>
            </thead>
            <tr>
                <td align="center" class="<%=style%>"><input type=text size=10 name='daily_amount_limit'
                                                             value="<%=ESAPI.encoder().encodeForHTMLAttribute((String)temphash.get("daily_amount_limit"))%>" <%=isReadOnly%>>
                </td>
                <td align="center" class="<%=style%>"><input type=text size=10 name='monthly_amount_limit'
                                                             value="<%=ESAPI.encoder().encodeForHTMLAttribute((String)temphash.get("monthly_amount_limit"))%>" <%=isReadOnly%>>
                </td>
                <td align="center" class="<%=style%>"><input type=text size=10 name='daily_card_limit'
                                                             value="<%=ESAPI.encoder().encodeForHTMLAttribute((String)temphash.get("daily_card_limit"))%>" <%=isReadOnly%>>
                </td>
                <td align="center" class="<%=style%>"><input type=text size=10 name='weekly_card_limit'
                                                             value="<%=ESAPI.encoder().encodeForHTMLAttribute((String)temphash.get("weekly_card_limit"))%>" <%=isReadOnly%>>
                </td>
                <td align="center" class="<%=style%>"><input type=text size=10 name='monthly_card_limit'
                                                             value="<%=ESAPI.encoder().encodeForHTMLAttribute((String)temphash.get("monthly_card_limit"))%>" <%=isReadOnly%>>
                </td>
                <td align="center" class="<%=style%>"><input type=text size=10 name='aptprompt'
                                                             value="<%=ESAPI.encoder().encodeForHTMLAttribute(aptprompt)%>" <%=isReadOnly%>>
                </td>
            </tr>
            <thead>
            <tr>
                <td valign="middle" align="center" class="tr1"> Daily Card Amount Limit</td>
                <td valign="middle" align="center" class="tr1"> Weekly Card Amount Limit</td>
                <td valign="middle" align="center" class="tr1"> Monthly Card Amount Limit</td>
                <td valign="middle" align="center" class="tr1"> Card Check Limit</td>
                <td valign="middle" align="center" class="tr1"> Card Transaction Limit</td>
                <td valign="middle" align="center" class="tr1"> Check Limit</td>
            </tr>
            </thead>
            <tr>
                <td align="center" class="<%=style%>"><input type=text size=10 name='daily_card_amount_limit'
                                                             value="<%=ESAPI.encoder().encodeForHTMLAttribute((String)temphash.get("daily_card_amount_limit"))%>" <%=isReadOnly%>>
                </td>
                <td align="center" class="<%=style%>"><input type=text size=10 name='weekly_card_amount_limit'
                                                             value="<%=ESAPI.encoder().encodeForHTMLAttribute((String)temphash.get("weekly_card_amount_limit"))%>" <%=isReadOnly%>>
                </td>
                <td align="center" class="<%=style%>"><input type=text size=10 name='monthly_card_amount_limit'
                                                             value="<%=ESAPI.encoder().encodeForHTMLAttribute((String)temphash.get("monthly_card_amount_limit"))%>" <%=isReadOnly%>>
                </td>
                <td align="center" class="<%=style%>"><select
                        name='card_check_limit' <%=isReadOnly%>>
                    <%
                        if (temphash.get("card_check_limit").equals("0"))
                        {
                    %>
                    <option value="<%=temphash.get("card_check_limit")%>"
                            selected="selected"><%=temphash.get("card_check_limit")%>
                    </option>
                    <option value="1">1</option>
                    <% }
                    else
                    {%>
                    <option value="0">0</option>
                    <option value="<%=temphash.get("card_check_limit")%>"
                            selected="selected"><%=temphash.get("card_check_limit")%>
                    </option>
                    <%}%></select>
                </td>
                <td align="center" class="<%=style%>"><select
                        name='card_transaction_limit' <%=isReadOnly%>>
                    <%
                        if (temphash.get("card_transaction_limit").equals("0"))
                        {
                    %>
                    <option value="<%=temphash.get("card_transaction_limit")%>"
                            selected="selected"><%=temphash.get("card_transaction_limit")%>
                    </option>
                    <option value="1">1</option>
                    <% }
                    else
                    {%>
                    <option value="0">0</option>
                    <option value="<%=temphash.get("card_transaction_limit")%>"
                            selected="selected"><%=temphash.get("card_transaction_limit")%>
                    </option>
                    <%}%></select>
                </td>
                <td align="center" class="<%=style%>"><select
                        name='check_limit' <%=isReadOnly%>>
                    <%
                        if (temphash.get("check_limit").equals("0"))
                        {
                    %>
                    <option value="<%=temphash.get("check_limit")%>"
                            selected="selected"><%=temphash.get("check_limit")%>
                    </option>
                    <option value="1">1</option>
                    <% }
                    else
                    {%>
                    <option value="0">0</option>
                    <option value="<%=temphash.get("check_limit")%>"
                            selected="selected"><%=temphash.get("check_limit")%>
                    </option>
                    <%}%></select>
                </td>
            </tr>
            <thead>
            <tr>
                <td valign="middle" align="center" class="tr1"> Weekly Amount Limit</td>
            </tr>
            </thead>
            <tr>
                <td align="center" class="<%=style%>"><input type=text size=10 name='weekly_amount_limit'
                                                             value="<%=ESAPI.encoder().encodeForHTMLAttribute((String)temphash.get("weekly_amount_limit"))%>" <%=isReadOnly%>>
                </td>
            </tr>
        </table>
    </div>
    <div class="reporttable" style="margin-bottom: 9px;">
        <table border="0" width="100%" class="table table-striped table-bordered  table-green dataTable"
               style="margin-bottom: 0px">
            <tr class="th0">
                <td colspan="7" style="height: 30px">
                    <center><b>General Configuration</b></center>
                </td>
            </tr>
            </thead>
            <tr>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> Is Activation</td>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> HasPaid</td>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> Partner Id</td>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> Agent Id</td>
            </tr>
            <tr>
                <td align="center" class="<%=style%>"><select
                        name='activation' <%=isReadOnly%>>
                    <%
                        if (temphash.get("activation").equals("T"))
                        {
                    %>
                    <option value="<%=ESAPI.encoder().encodeForHTMLAttribute((String)temphash.get("activation"))%>"
                            selected="selected"><%=ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("activation"))%>
                    </option>
                    <option value="Y">Y</option>
                    <option value="N">N</option>
                    <%
                    }
                    else if (temphash.get("activation").equals("N"))
                    {
                    %>
                    <option value="<%=ESAPI.encoder().encodeForHTMLAttribute((String)temphash.get("activation"))%>"
                            selected="selected"><%=ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("activation"))%>
                    </option>
                    <option value="T">T</option>
                    <option value="Y">Y</option>
                    <%
                    }
                    else
                    {
                    %>
                    <option value="T">T</option>
                    <option value="N">N</option>
                    <option value="<%=ESAPI.encoder().encodeForHTMLAttribute((String)temphash.get("activation"))%>"
                            selected="selected"><%=ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("activation"))%>
                    </option>
                    <% }%>
                </select>
                </td>
                <td align="center" class="<%=style%>"><select
                        name='haspaid' <%=isReadOnly%>>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("haspaid")))); %></select>
                </td>
                <td align="center" class="<%=style%>"><select
                        name='partnerId' <%=isReadOnly%>>

                    <%
                        for (int i = 1; i <= records1; i++)
                        {
                            String id1 = Integer.toString(i);
                            Hashtable inner = (Hashtable) partner.get(id1);
                            String selected = "";
                            if (temphash.get("partnerid").equals(inner.get("partnerId")))
                            {
                                selected = "selected";
                            }
                            out.println("<option value=" + inner.get("partnerId") + " " + selected + ">" + inner.get("partnerName") + "</option>");
                        }%></select>
                </td>
                <td align="center" class="<%=style%>"><select
                        name='agentId' <%=isReadOnly%>>
                    <%
                        for (int i = 1; i <= records2; i++)
                        {
                            String id1 = Integer.toString(i);
                            Hashtable inner1 = (Hashtable) agent.get(id1);
                            String selected = "";
                            if (temphash.get("agentId").equals(inner1.get("agentId")))
                            {
                                selected = "selected";
                            }
                            out.println("<option value=" + inner1.get("agentId") + " " + selected + ">" + inner1.get("agentName") + "</option>");
                        }%></select>
                </td>
            </tr>
            <tr>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> Is MerchantInterface Access</td>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> Blacklist Transactions</td>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> Flight Mode</td>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> Is ExcessCaptureAllowed</td>
            </tr>
            <tr>
                <td align="center" class="<%=style%>"><select
                        name='icici' <%=isReadOnly%>>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("icici")))); %></select>
                </td>
                <td align="center" class="<%=style%>">
                    <select name='blacklistTransaction' <%=isReadOnly%>>
                        <%
                            out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("blacklistTransaction")))); %></select>
                </td>
                <td align="center" class="<%=style%>">
                    <select name='flightMode' <%=isReadOnly%>>
                        <%
                            out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("flightMode")))); %></select>
                </td>
                <td align="center" class="<%=style%>">
                    <select name='isExcessCaptureAllowed' <%=isReadOnly%>>
                        <%
                            out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("isExcessCaptureAllowed")))); %>
                    </select>
                </td>
            </tr>
        </table>
    </div>
    <div class="reporttable" style="margin-bottom: 9px;">
        <table border="0" width="100%" class="table table-striped table-bordered  table-green dataTable"
               style="margin-bottom: 0px">
            <tr class="th0">
                <td colspan="8" style="height: 30px">
                    <center><b>Transaction Configuration</b></center>
                </td>
            </tr>
            <tr>
                <td style="height: 30px"valign="middle" align="center" class="tr1" >  Is Service  </td>
                <td style="height: 30px"valign="middle" align="center" class="tr1" >  Auto Redirect  </td>
                <td style="height: 30px"valign="middle" align="center" class="tr1" >  VBV  </td>
                <td style="height: 30px"valign="middle" align="center" class="tr1" >  MasterCardSupported  </td>
                <td style="height: 30px"valign="middle" align="center" class="tr1" >  Auto Select Terminal</td>
                <td style="height: 30px"valign="middle" align="center" class="tr1" >  Is POD Required </td>
                <td style="height: 30px"valign="middle" align="center" class="tr1" >  Is RestrictedTicket</td>
                <td style="height: 30px"valign="middle" align="center" class="tr1" >  EMI Support</td>
            </tr>
            <tr>
                <td align="center" class="<%=style%>"><select
                        name='isservice' <%=isReadOnly%>>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("isservice")))); %></select>
                </td>
                <td align="center" class="<%=style%>"><select
                        name='autoredirect' <%=isReadOnly%>>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("autoredirect")))); %></select>
                </td>
                <td align="center" class="<%=style%>"><select
                        name='vbv' <%=isReadOnly%>>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("vbv")))); %></select>
                </td>
                <td align="center" class="<%=style%>"><select
                        name='masterCardSupported' <%=isReadOnly%>>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("masterCardSupported")))); %></select>
                </td>
                <td align="center" class="<%=style%>"><select name='autoSelectTerminal'>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("autoSelectTerminal")))); %></select>
                </td>
                <td align="center" class="<%=style%>"><select name='isPODRequired'>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("isPODRequired")))); %></select>
                </td>
                <td align="center" class="<%=style%>"><select name='isRestrictedTicket'>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("isRestrictedTicket")))); %></select>
                </td>
                <td align="center" class="<%=style%>"><select name='emiSupport'>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("emiSupport")))); %></select>
                </td>
            </tr>
            <tr>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> Chargeback Allowed Day's</td>
                <td style="height: 30px" valign="middle" align="center" class="tr1">Is  Email Limit Enabled</td>
                <td style="height: 30px" valign="middle" align="center" class="tr1">Bin Service</td>
                <td style="height: 30px" valign="middle" align="center" class="tr1">Exp Date Offset</td>
                <td style="height: 30px" valign="middle" align="center" class="tr1">Support Section</td>
                <td style="height: 30px" valign="middle" align="center" class="tr1">Card Whitelist Level</td>
                <td style="height: 30px" valign="middle" align="center" class="tr1">Multi Currency Support</td>
                <td style="height: 30px" valign="middle" align="center" class="tr1">IP Validation Required</td>
            </tr>
            <tr>
                <td align="center" class="<%=style%>"><input type=text size=10 name='chargebackallowed_days'value="<%=ESAPI.encoder().encodeForHTMLAttribute((String)temphash.get("chargebackallowed_days"))%>">
                </td>
                <td align="center" class="<%=style%>"><select
                        name='emailLimitEnabled' <%=isReadOnly%>>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("emailLimitEnabled")))); %></select>
                </td>
                <td align="center" class="<%=style%>"><select
                        name='binService' <%=isReadOnly%>>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("binService")))); %></select>
                </td>
                <td align="center" class="<%=style%>"><input type=text size=10 name='expDateOffset'value="<%=ESAPI.encoder().encodeForHTMLAttribute((String)temphash.get("expDateOffset"))%>">
                </td>

                <td align="center" class="<%=style%>"><select
                        name='supportSection' <%=isReadOnly%>>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("supportSection")))); %></select>
                </td>
                <td align="center" class="<%=style%>">
                    <select name='card_whitelist_level' >
                        <%
                            out.println(Functions.combovalForCardWhitelistLevel(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("card_whitelist_level")))); %>
                    </select>
                </td>

                <td align="center" class="<%=style%>"><select
                        name='multiCurrencySupport' <%=isReadOnly%>>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("multiCurrencySupport")))); %></select>
                </td>
                <td align="center" class="<%=style%>"><select name='ip_validation_required'>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("ip_validation_required")))); %></select>
                </td>
            </tr>
            <tr>
                <td style="height: 30px" valign="middle" align="center" class="tr1">Bin Routing</td>
                <td style="height: 30px" valign="middle" align="center" class="tr1">Personal Info Display</td>
                <td style="height: 30px" valign="middle" align="center" class="tr1">Personal Info Validation</td>
                <td style="height: 30px;" valign="middle" align="center" class="tr1">Terms Url</td>
                <td style="height: 30px" valign="middle" align="center" class="tr1">Hosted Payment Page</td>
                <td style="height: 30px" valign="middle" align="center" class="tr1">Blacklist Country By IP</td>
                <td style="height: 30px;" valign="middle" align="center" class="tr1">Blacklist Country By Bin</td>
                <td style="height: 30px;" valign="middle" align="center" class="tr1">Blacklist Country By Bin & IP</td>
            </tr>
            <tr>
                <td align="center" class="<%=style%>"><select name='binRouting'>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("binRouting")))); %></select>
                </td>
                <td align="center" class="<%=style%>"><select name='personal_info_display'>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("personal_info_display")))); %></select>
                </td>
                <td align="center" class="<%=style%>"><select name='personal_info_validation'>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("personal_info_validation")))); %></select>
                </td>
                <td valign="middle" data-label="Terms Url" align="center" class="<%=style%>">
                    <input class="txtbox" type="Text" maxlength="50"  value="<%=ESAPI.encoder().encodeForHTMLAttribute(termsUrl)%>" name="termsurl" size="50">
                </td>
                <td align="center" class="<%=style%>"><select name='hosted_payment_page'>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("hosted_payment_page")))); %></select>
                </td>
                <td align="center" class="<%=style%>"><select name='blacklist_country_ip'>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("blacklist_country_ip")))); %></select>
                </td>
                <td valign="middle" data-label="Notification Url" align="center" class="<%=style%>"><select name='blacklist_country_bin'>
                    <%
                    out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("blacklist_country_bin")))); %></select>
                </td>

                <td valign="middle" data-label="Privacy Policy Url" align="center" class="<%=style%>"><select name='blacklist_country_bin_ip'>
                    <%
                    out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("blacklist_country_bin_ip")))); %></select>
                </td>
            </tr>
            <tr>
                <td style="height: 30px;" valign="middle" align="center" class="tr1"> Notification Url</td>
                <td style="height: 30px;" valign="middle" align="center" class="tr1"> Privacy Policy Url</td>
            </tr>
            <tr>
                <td valign="middle" data-label="Notification Url" align="center" class="<%=style%>">
                    <input class="txtbox" type="Text" maxlength="50"  value="<%=ESAPI.encoder().encodeForHTMLAttribute(notificationUrl)%>" name="notificationurl" size="50">
                </td>

                <td valign="middle" data-label="Privacy Policy Url" align="center" class="<%=style%>">
                    <input class="txtbox" type="Text" maxlength="50"  value="<%=ESAPI.encoder().encodeForHTMLAttribute(privacyPolicyUrl)%>" name="privacyPolicyUrl" size="50">
                </td>
            </tr>
        </table>
    </div>
    <div class="reporttable" style="margin-bottom: 9px;">
        <table border="0" width="100%" class="table table-striped table-bordered  table-green dataTable"
               style="margin-bottom: 0px">
            <tr class="th0">
                <td colspan="7" style="height: 30px">
                    <center><b>BackOffice Access Management</b></center>
                </td>
            </tr>
            <tr>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> DashBoard </td>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> Account Details</td>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> Settings</td>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> Transaction Management</td>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> Invoicing</td>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> EMI Configuration</td>
            </tr>
            <tr>
                <td align="center" class="<%=style%>">
                    <select name='dashboard_access' <%=isReadOnly%>>
                        <%
                            out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("dashboard_access")))); %>
                    </select>

                </td>
                <td align="center" class="<%=style%>"><select
                        name='accounting_access' <%=isReadOnly%>>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("accounting_access")))); %></select>
                </td>
                <td align="center" class="<%=style%>"><select
                        name='setting_access' <%=isReadOnly%>>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("setting_access")))); %></select>
                </td>
                <td align="center" class="<%=style%>"><select
                        name='transactions_access' <%=isReadOnly%>>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("transactions_access")))); %></select>
                </td>
                <td align="center" class="<%=style%>"><select
                        name='invoicing_access' <%=isReadOnly%>>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("invoicing_access")))); %></select>
                </td>
                <td align="center" class="<%=style%>"><select
                        name='emi_configuration' <%=isReadOnly%>>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("emi_configuration")))); %></select>
                </td>
            </tr>
            <tr>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> Virtual Terminal</td>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> Merchant Management</td>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> Application Manager</td>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> Recurring</td>
                <td style="height: 30px"valign="middle" align="center" class="tr1" > Token Management</td>
                <td style="height: 30px"valign="middle" align="center" class="tr1" > &nbsp;</td>
            </tr>
            <tr>
                <td align="center" class="<%=style%>"><select
                        name='virtualterminal_access' <%=isReadOnly%>>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("virtualterminal_access")))); %></select>
                </td>
                <td align="center" class="<%=style%>"><select
                        name='merchantmgt_access' <%=isReadOnly%>>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("merchantmgt_access")))); %></select>
                </td>
                <td align="center" class="<%=style%>">
                    <select name='isappmanageractivate' <%=isReadOnly%>>
                        <%
                            out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("isappmanageractivate")))); %></select>
                </td>
                <td align="center" class="<%=style%>">
                    <select name='is_recurring' <%=isReadOnly%>>
                        <%
                            out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("is_recurring"))));
                        %>
                    </select>
                </td>
                <td align="center" class="<%=style%>">
                    <select name='iscardregistrationallowed' <%=isReadOnly%>>
                        <%
                            out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String)temphash.get("iscardregistrationallowed"))));
                        %>
                    </select>
                </td>
            </tr>
        </table>

        <table  border="0" width="100%" class="table table-striped table-bordered  table-green dataTable" style="margin-bottom: 0px" >
            <tr class="td1">
                <td colspan="7" style="text-align: center;font-family:Open Sans Helvetica Neue Helvetica,Arial,sans-serif;font-size: 12px;">
                    Account Details
                </td>
            </tr>
            <tr>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> Account Summary  </td>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> Charges Summary </td>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> Transaction Summary</td>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> Reports </td>
            </tr>
            <tr>
                <td align="center" class="<%=style%>"><select
                        name='accounts_account_summary_access' <%=isReadOnly%>>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("accounts_account_summary_access")))); %>
                </select>
                </td>
                </select>
                <td align="center" class="<%=style%>"><select
                        name='accounts_charges_summary_access' <%=isReadOnly%>>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("accounts_charges_summary_access")))); %>
                </select>
                </td>
                </select>

                <td align="center" class="<%=style%>"><select
                        name='accounts_transaction_summary_access' <%=isReadOnly%>>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("accounts_transaction_summary_access")))); %>
                </select>
                </td>
                </select>

                <td align="center" class="<%=style%>"><select
                        name='accounts_reports_summary_access' <%=isReadOnly%>>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("accounts_reports_summary_access")))); %>
                </select>
                </td>
                </select>
            </tr>
        </table>
        <table  border="0" width="100%" class="table table-striped table-bordered  table-green dataTable" style="margin-bottom: 0px" >
            <tr class="td1">
                <td colspan="9" style="text-align: center;font-family:Open Sans Helvetica Neue Helvetica,Arial,sans-serif;font-size: 12px;">
                    Settings
                </td>
            </tr>
            <tr>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> Merchant Profile </td>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> Organisation Profile</td>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> Checkout Page</td>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> Generate Key </td>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> Invoice Configuration</td>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> Merchant Configuration</td>
                <td style="height: 30px"valign="middle" align="center" class="tr1" > Fraud Rule Configuration</td>
                <td style="height: 30px"valign="middle" align="center" class="tr1" > Whitelist Details</td>
                <td style="height: 30px"valign="middle" align="center" class="tr1" > Block Details</td>
            </tr>
            <tr>
                <td align="center" class="<%=style%>"><select
                        name='settings_merchant_profile_access' <%=isReadOnly%>>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("settings_merchant_profile_access")))); %>
                </select>
                </td>
                </select>
                <td align="center" class="<%=style%>"><select
                        name='settings_organisation_profile_access' <%=isReadOnly%>>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("settings_organisation_profile_access")))); %>
                </select>
                </td>
                </select>
                <td align="center" class="<%=style%>"><select
                        name='settings_checkout_page_access' <%=isReadOnly%>>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("settings_checkout_page_access")))); %></select>
                </td>
                </select>
                <td align="center" class="<%=style%>"><select
                        name='settings_generate_key_access' <%=isReadOnly%>>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("settings_generate_key_access")))); %></select>
                </td>
                </select>
                <td align="center" class="<%=style%>"><select
                        name='settings_invoice_config_access' <%=isReadOnly%>>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("settings_invoice_config_access")))); %></select>
                </td>
                </select>
                <td align="center" class="<%=style%>"><select
                        name='settings_merchant_config_access' <%=isReadOnly%>>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("settings_merchant_config_access")))); %></select>
                </td>
                </select>
                <td align="center" class="<%=style%>">
                    <select name='settings_fraudrule_config_access' <%=isReadOnly%>>
                        <%
                            out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String)temphash.get("settings_fraudrule_config_access"))));
                        %>
                    </select>
                </td>
                <td align="center" class="<%=style%>">
                    <select name='settings_whitelist_details' <%=isReadOnly%>>
                        <%
                            out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String)temphash.get("settings_whitelist_details"))));
                        %>
                    </select>
                </td>
                <td align="center" class="<%=style%>">
                    <select name='settings_blacklist_details' <%=isReadOnly%>>
                        <%
                            out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String)temphash.get("settings_blacklist_details"))));
                        %>
                    </select>
                </td>
            </tr>
        </table>
        <table  border="0" width="100%" class="table table-striped table-bordered  table-green dataTable" style="margin-bottom: 0px" >
            <tr class="td1">
                <td colspan="7" style="text-align: center;font-family:Open Sans Helvetica Neue Helvetica,Arial,sans-serif;font-size: 12px;">
                    Transaction Management
                </td>
            </tr>
            <tr>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> Transactions </td>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> Capture </td>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> Reversal</td>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> Payout </td>
            </tr>
            <tr>
                <td align="center" class="<%=style%>"><select
                        name='transmgt_transaction_access' <%=isReadOnly%>>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("transmgt_transaction_access")))); %></select>
                </td>
                </select>
                <td align="center" class="<%=style%>"><select
                        name='transmgt_capture_access' <%=isReadOnly%>>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("transmgt_capture_access")))); %></select>
                </td>
                </select>
                <td align="center" class="<%=style%>"><select
                        name='transmgt_reversal_access' <%=isReadOnly%>>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("transmgt_reversal_access")))); %></select>
                </td>
                </select>
                <td align="center" class="<%=style%>"><select
                        name='transmgt_payout_access' <%=isReadOnly%>>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("transmgt_payout_access")))); %></select>
                </td>
                </select>
            </tr>
        </table>
        <table  border="0" width="100%" class="table table-striped table-bordered  table-green dataTable" style="margin-bottom: 0px" >
            <tr class="td1">
                <td colspan="7" style="text-align: center;font-family:Open Sans Helvetica Neue Helvetica,Arial,sans-serif;font-size: 12px;">
                    Invoicing
                </td>
            </tr>
            <tr>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> Generate Invoice </td>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> Invoice History </td>
            </tr>
            <tr>
                <td align="center" class="<%=style%>"><select
                        name='invoice_generate_access' <%=isReadOnly%>>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("invoice_generate_access")))); %></select>
                </td>
                </select>
                <td align="center" class="<%=style%>"><select
                        name='invoice_history_access' <%=isReadOnly%>>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("invoice_history_access")))); %></select>
                </td>
                </select>
            </tr>
        </table>
        <table  border="0" width="100%" class="table table-striped table-bordered  table-green dataTable" style="margin-bottom: 0px" >
            <tr class="td1">
                <td colspan="7" style="text-align: center;font-family:Open Sans Helvetica Neue Helvetica,Arial,sans-serif;font-size: 12px;">
                    Token Management
                </td>
            </tr>

            <tr>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> Registration History </td>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> Register Card </td>
            </tr>
            <tr>
                <td align="center" class="<%=style%>"><select
                        name='tokenmgt_registration_history_access' <%=isReadOnly%>>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("tokenmgt_registration_history_access")))); %></select>
                </td>
                </select>
                <td align="center" class="<%=style%>"><select
                        name='tokenmgt_register_card_access' <%=isReadOnly%>>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("tokenmgt_register_card_access")))); %></select>
                </td>
                </select>
            </tr>
        </table>
        <table  border="0" width="100%" class="table table-striped table-bordered  table-green dataTable" style="margin-bottom: 0px" >
            <tr class="td1">
                <td colspan="7" style="text-align: center;font-family:Open Sans Helvetica Neue Helvetica,Arial,sans-serif;font-size: 12px;">
                    Merchant Management
                </td>
            </tr>

            <tr>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> User Management </td>
            </tr>
            <tr>
                <td align="center" class="<%=style%>"><select
                        name='merchantmgt_user_management_access' <%=isReadOnly%>>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("merchantmgt_user_management_access")))); %></select>
                </td>
                </select>
            </tr>
        </table>
    </div>
    <div class="reporttable" style="margin-bottom: 9px;">
        <table  border="0" width="100%" class="table table-striped table-bordered  table-green dataTable" style="margin-bottom: 0px" >
            <tr class="th0">
                <td colspan="12" style="height: 30px">
                    <center><b>Template Configuration</b></center>
                </td>
            </tr>
            <tr>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> IS Pharma(Y/N)</td>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> Is Powered By Logo</td>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> Template</td>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> PCI Logo</td>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> Partner Logo</td>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> Security Logo</td>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> Is Merchant Logo</td>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> Visa Secure Logo</td>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> MC Secure Logo</td>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> Consent</td>
            </tr>
            <tr>
                <td align="center" class="<%=style%>"><select
                        name='isPharma' <%=isReadOnly%>>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("isPharma")))); %></select>
                </td>
                <td align="center" class="<%=style%>"><select
                        name='isPoweredBy'>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("isPoweredBy")))); %></select>
                </td>
                <td align="center" class="<%=style%>"><select
                        name='template'>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("template")))); %></select>
                </td>
                <td align="center" class="<%=style%>"><select name='ispcilogo'<%--<%=isReadOnly%>--%>>
                    <%
                        if("Y".equals(temphash.get("ispcilogo")))
                        {
                    %>
                    <option value="Y">Y</option>
                    <option value="N">N</option>
                    <%
                    }
                    else
                    {
                    %>
                    <option value="N">N</option>
                    <option value="Y">Y</option>
                    <% }%>
                </select>
                </td>
                <td align="center" class="<%=style%>"><select name='ispartnerlogo'<%--<%=isReadOnly%>--%>>
                    <%
                        if("Y".equals(temphash.get("ispartnerlogo")))
                        {
                    %>
                    <option value="Y">Y</option>
                    <option value="N">N</option>
                    <%
                    }
                    else
                    {
                    %>
                    <option value="N">N</option>
                    <option value="Y">Y</option>
                    <% }%>
                </select>
                </td>
                <td align="center" class="<%=style%>"><select name='isSecurityLogo'<%--<%=isReadOnly%>--%>>
                    <%
                        if("Y".equals(temphash.get("isSecurityLogo")))
                        {
                    %>
                    <option value="Y">Y</option>
                    <option value="N">N</option>
                    <%
                    }
                    else
                    {
                    %>
                    <option value="N">N</option>
                    <option value="Y">Y</option>
                    <% }%>
                </select>
                </td>
                <td align="center" class="<%=style%>"><select name='ismerchantlogo'<%--<%=isReadOnly%>--%>>
                    <%
                        if("Y".equals(temphash.get("ismerchantlogo")))
                        {
                    %>
                    <option value="Y">Y</option>
                    <option value="N">N</option>
                    <%
                    }
                    else
                    {
                    %>
                    <option value="N">N</option>
                    <option value="Y">Y</option>
                    <% }%>
                </select>
                </td>
                <td align="center" class="<%=style%>"><select name='vbvLogo'<%--<%=isReadOnly%>--%>>
                    <%
                        if("Y".equals(temphash.get("vbvLogo")))
                        {
                    %>
                    <option value="Y">Y</option>
                    <option value="N">N</option>
                    <%
                    }
                    else
                    {
                    %>
                    <option value="N">N</option>
                    <option value="Y">Y</option>
                    <% }%>
                </select>
                </td>
                <td align="center" class="<%=style%>"><select name='masterSecureLogo'<%--<%=isReadOnly%>--%>>
                    <%
                        if("Y".equals(temphash.get("masterSecureLogo")))
                        {
                    %>
                    <option value="Y">Y</option>
                    <option value="N">N</option>
                    <%
                    }
                    else
                    {
                    %>
                    <option value="N">N</option>
                    <option value="Y">Y</option>
                    <% }%>
                </select>
                </td>
                <td align="center" class="<%=style%>"><select name='consent'<%--<%=isReadOnly%>--%>>
                    <%
                        if("Y".equals(temphash.get("consent")))
                        {
                    %>
                    <option value="Y">Y</option>
                    <option value="N">N</option>
                    <%
                    }
                    else
                    {
                    %>
                    <option value="N">N</option>
                    <option value="Y">Y</option>
                    <% }%>
                </select>
                </td>
            </tr>
        </table>
    </div>
    <div class="reporttable" style="margin-bottom: 9px;">
        <table border="0" width="100%" class="table table-striped table-bordered  table-green dataTable"
               style="margin-bottom: 0px">
            <tr class="th0"><td colspan="5" style="height: 30px"><center><b>Token Configuration</b></center></td></tr>
            <tr>
                <td style="height: 30px"valign="middle" align="center" class="tr1" >Is TokenizationAllowed</td>
                <td style="height: 30px"valign="middle" align="center" class="tr1" >Is AddressDetails Required</td>
                <td style="height: 30px"valign="middle" align="center" class="tr1" >Token Valid Days</td>
                <td style="height: 30px"valign="middle" align="center" class="tr1" >Is Card Encryption Enable</td>
            </tr>
            <tr>
                <td align="center" class="<%=style%>"><select name='isTokenizationAllowed' >
                    <%out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String)temphash.get("isTokenizationAllowed"))));  %></select>
                </td>
                <td align="center" class="<%=style%>"><select name='isAddrDetailsRequired' >
                    <%out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String)temphash.get("isAddrDetailsRequired"))));  %></select>
                </td>
                <td align="center" class="<%=style%>"><input type=text size=10 name='tokenvaliddays' value="<%=ESAPI.encoder().encodeForHTMLAttribute((String)temphash.get("tokenvaliddays"))%>">
                </td>
                <td align="center" class="<%=style%>"><select name='isCardEncryptionEnable' >
                    <%out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String)temphash.get("isCardEncryptionEnable"))));  %></select>
                </td>
            </tr>
        </table>
    </div>
    <div class="reporttable" style="margin-bottom: 9px;">
        <table border="0" width="100%" style="width: 50%" align="center"
               class="table table-striped table-bordered  table-green dataTable" style="margin-bottom: 0px">
            <tr class="th0">
                <td colspan="3" style="height: 30px">
                    <center><b>Whitelisting Configuration</b></center>
                </td>
            </tr>
            <tr>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> Is Card Whitelisted</td>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> Is Ip Whitelisted</td>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> Is IP Whitelisted For APIs</td>
            </tr>
            <tr>
                <td align="center" class="<%=style%>"><select name='iswhitelisted'>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("iswhitelisted")))); %></select>
                </td>
                <td align="center" class="<%=style%>"><select name='isipwhitelisted'>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("isIpWhitelisted")))); %></select>
                </td>
                <td align="center" class="<%=style%>"><select name='is_rest_whitelisted'>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("is_rest_whitelisted")))); %></select>
                </td>
            </tr>
        </table>
    </div>
    <div class="reporttable" style="margin-bottom: 9px;">
        <table  border="0" width="100%" style="width: 50%" align="center" class="table table-striped table-bordered  table-green dataTable" style="margin-bottom: 0px" >
            <tr class="th0">
                <td colspan="2" style="height: 30px">
                    <center><b>HR Transaction Configuration</b></center>
                </td>
            </tr>
            <tr>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> HR alertPROOF</td>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> HR Parameterized</td>
            </tr>
            <tr>
                <td align="center" class="<%=style%>"><select
                        name='hralertproof' <%=isReadOnly%>>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("hralertproof")))); %></select>
                </td>
                <td align="center" class="<%=style%>"><select
                        name='hrparameterised' <%=isReadOnly%>>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("hrparameterised")))); %></select>
                </td>
            </tr>
        </table>
    </div>
    <div class="reporttable" style="margin-bottom: 9px;">
        <table border="0" width="100%" style="width: 50%" align="center"
               class="table table-striped table-bordered  table-green dataTable" style="margin-bottom: 0px">
            <tr class="th0">
                <td colspan="8" style="height: 30px">
                    <center><b>Refund Configuration</b></center>
                </td>
            </tr>
            <tr>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> Is Refund</td>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> Is Multiple Refund</td>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> Daily Refund Limit</td>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> Refund Allowed Day's</td>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> Is Refund Email Sent</td>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> is Partial Refund</td>
            </tr>
            <tr>
                <td align="center" class="<%=style%>"><select name='isrefund' <%=isReadOnly%>>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("isrefund")))); %></select>
                </td>
                <td align="center" class="<%=style%>"><select name='isMultipleRefund' <%=isReadOnly%>>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("isMultipleRefund")))); %></select>
                </td>
                <td align="center" class="<%=style%>"><input type=text size=10 name='refunddailylimit'
                                                             value="<%=ESAPI.encoder().encodeForHTMLAttribute((String)temphash.get("refunddailylimit"))%>">
                </td>
                <td align="center" class="<%=style%>"><input type=text size=10 name='refundallowed_days'
                                                             value="<%=ESAPI.encoder().encodeForHTMLAttribute((String)temphash.get("refundallowed_days"))%>">
                </td>
                <td align="center" class="<%=style%>"><select name='isRefundEmailSent' <%=isReadOnly%>>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("isRefundEmailSent")))); %></select>
                </td>
                <td align="center" class="<%=style%>"><select name='isPartialRefund' <%=isReadOnly%>>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("isPartialRefund")))); %></select>
                </td>
            </tr>
        </table>
    </div>
    <div class="reporttable" style="margin-bottom: 9px;">
        <table border="0" width="100%" style="width: 50%" align="center"
               class="table table-striped table-bordered  table-green dataTable" style="margin-bottom: 0px">
            <tr class="th0">
                <td colspan="4" style="height: 30px">
                    <center><b>Email Configuration</b></center>
                </td>
            </tr>
            </thead>
            <tr>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> IS Validate Email</td>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> Customer Reminder Email</td>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> Is Email Sent</td>
                <td style="height: 30px" valign="middle" align="center" class="tr1"> Chargeback Email (Y/N)</td>
            </tr>
            <tr>
                <td align="center" class="<%=style%>"><select
                        name='isValidateEmail' <%=isReadOnly%>>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("isValidateEmail")))); %></select>
                </td>
                <td align="center" class="<%=style%>"><select
                        name='custremindermail' <%=isReadOnly%>>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("custremindermail")))); %></select>
                </td>
                <td align="center" class="<%=style%>"><select
                        name='emailSent' <%=isReadOnly%>>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("emailSent")))); %></select>
                </td>
                <td align="center" class="<%=style%>"><select
                        name='chargebackEmail' <%=isReadOnly%>>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("chargebackEmail")))); %></select>
                </td>
            </tr>
        </table>
    </div>
    <div class="reporttable" style="margin-bottom: 9px;">
        <table border="0" width="100%" style="width: 50%" align="center"
               class="table table-striped table-bordered  table-green dataTable" style="margin-bottom: 0px">
            <tr class="th0">
                <td colspan="2" style="height: 30px">
                    <center><b>SMS Configuration</b></center>
                </td>
            </tr>
            <tr>
                <td style="height: 30px" valign="middle" align="center" class="tr1">Merchant SMS Activation</td>
                <td style="height: 30px" valign="middle" align="center" class="tr1">Customer SMS Activation</td>
            </tr>
            <tr>
                <td align="center" class="<%=style%>"><select name='smsactivation' <%=isReadOnly%>>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("smsactivation")))); %></select>
                </td>
                <td align="center" class="<%=style%>"><select name='customersmsactivation' <%=isReadOnly%>>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("customersmsactivation")))); %></select>
                </td>
            </tr>
        </table>
    </div>
    <div class="reporttable" style="margin-bottom: 9px;">
        <table border="0" width="100%" style="width: 50%" align="center"
               class="table table-striped table-bordered  table-green dataTable" style="margin-bottom: 0px">
            <tr class="th0">
                <td colspan="2" style="height: 30px">
                    <center><b>Invoice Configuration</b></center>
                </td>
            </tr>
            <tr>
                <td style="height: 30px" valign="middle" align="center" class="tr1">Invoice Merchant Details</td>
                <td style="height: 30px" valign="middle" align="center" class="tr1">Is IP whitelist for Invoice</td>
            </tr>
            <tr>
                <td align="center" align="center" class="<%=style%>"><select
                        name='invoicetemplate'>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("invoicetemplate")))); %></select>
                </td>
                <td align="center" align="center" class="<%=style%>"><select
                        name='ip_whitelist_invoice'>
                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("ip_whitelist_invoice")))); %></select>
                </td>
            </tr>
        </table>
    </div>
    <div class="reporttable" style="margin-bottom: 9px;">
        <table border="0" width="100%" style="width: 50%" align="center"
               class="table table-striped table-bordered  table-green dataTable" style="margin-bottom: 0px">
            <tr class="th0">
                <td colspan="3" style="height: 30px">
                    <center>Fraud Configuration</center>
                </td>
            </tr>
            <tr>
                <td style="height: 30px" valign="middle" align="center" class="tr1">Max Score Allowed</td>
                <td style="height: 30px" valign="middle" align="center" class="tr1">Max Score Reversal</td>
                <td style="height: 30px" valign="middle" align="center" class="tr1">Online Fraud Check</td>
            </tr>
            <tr>
                <td align="center" class="<%=style%>"><input type=text size=10 name='maxscoreallowed'
                                                             value="<%=ESAPI.encoder().encodeForHTMLAttribute((String)temphash.get("maxScoreAllowed"))%>">
                </td>
                <td align="center" class="<%=style%>"><input type=text size=10 name='maxscoreautoreversal'
                                                             value="<%=ESAPI.encoder().encodeForHTMLAttribute((String)temphash.get("maxScoreAutoReversal"))%>">
                </td>
                <td align="center" class="<%=style%>"><select
                        name='onlineFraudCheck' <%=isReadOnly%>>

                    <%
                        out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("onlineFraudCheck")))); %></select>
                </td>
            </tr>
        </table>
    </div>
    <div class="reporttable" style="margin-bottom: 9px;">
        <table border="0" width="100%" style="width: 50%" align="center"
               class="table table-striped table-bordered  table-green dataTable" style="margin-bottom: 0px">
            <tr class="th0"><td colspan="2" style="height: 30px"><center><b>Split transaction configuration</b></center></td></tr>
            <tr>
                <td style="height: 30px"valign="middle" align="center" class="tr1" >Split Payment Allowed</td>
                <td style="height: 30px"valign="middle" align="center" class="tr1" >Split Payment Type</td>
            </tr>
            <tr>
                <td align="center" class="<%=style%>">
                    <select name='isSplitPayment' <%=isReadOnly%>>
                        <% out.println(Functions.comboval(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("isSplitPayment")))); %>
                    </select>
                </td>
                <td align="center" class="<%=style%>">
                    <select name='splitPaymentType' >
                        <%
                            out.println(Functions.combovalForSplitPayment(ESAPI.encoder().encodeForHTMLAttribute((String) temphash.get("splitPaymentType")))); %>
                    </select>
                </td>
            </tr>
        </table>
    </div>
    <%
        }
    %>
    <table align="center">
        <tr>
            <td>
                <button type="submit" value="Save" class="buttonform" style="margin-left: 76%">
                    Save
                </button>
            </td>
        </tr>
    </table>
</form>
<br>



<%
    }
    else
    {
        out.println(Functions.NewShowConfirmation("Sorry", "No records found."));
        out.println("</div>");
    }
%>
</div>
<%
    }
    else
    {
        response.sendRedirect("/icici/logout.jsp");
        return;
    }
%>

</body>
</html>